<!doctype html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Websocket Chat</title>
    <meta charset="utf-8">
    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/bundles/stomp.umd.min.js"></script>

    <script th:inline="javascript">
        /* <![CDATA[ */
        var RoomData = /*[[${RoomData}]]*/;
        /*]]>*/
    </script>
    <script th:src="@{/js/chatroom.js}"></script>

</head>
<body>
<h3 th:if="${RoomData}">[[${RoomData.subject}]]</h3>
<!-- 내용 수정 필수. -->


<div class="row">
    <div class="col-md-12">
        <label for="post_id">게시판 id:</label>
        <input type="text" class="form-control" id="post_id" name="post_id" th:value="${RoomData.post_id}" readonly>
        <label for="seller_id">구매자 id:</label>
        <input type="text" class="form-control" id="seller_id" name="seller_id" th:value="${RoomData.seller_id}"
               readonly>
        <label for="buyer_id">판매자 id:</label>
        <input type="text" class="form-control" id="buyer_id" name="buyer_id" th:value="${RoomData.buyer_id}" readonly>
    </div>
</div>
<div id="main-content" class="container">
    <div class="row">
        <div class="col-md-6">
            <form class="form-inline">
                <div class="form-group">
                    <button id="disconnect" class="btn btn-default" type="button" >Disconnect
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div id="chat container" class="container">
    <div class="row">
        <div class="col-md-6">
            <form class="form">
                <input type="text" class="form-control" id="chatInput" placeholder="채팅 입력" name="chatInput">
                <button type="button" id="sendChat" class="btn btn-outline-dark">입력</button>

            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <table id="conversation" class="table table-striped">
                <thead>
                <tr>
                    <th>ChatList</th>
                </tr>
                </thead>
                <tbody id="chatList">
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
</html>